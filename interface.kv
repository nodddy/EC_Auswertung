#:import NoTransition kivy.uix.screenmanager.NoTransition


<ScreenOne>:
    FloatLayout:

        Label:
            text: 'ORR analysis'
            font_size: 65
            color: 0,0,0,1
            italic: True
            size_hint: 0.2, 0.1
            pos_hint: {'center_x':0.8, 'top': 0.98}

        BoxLayout:
            id: boxlayout
            size_hint: 0.4, 0.08
            pos_hint:{"top":0.95, "center_x":0.35}
            Button:
                text: 'Import ORR'
                id: import_orr
                on_press: root.import_orr_single()
            Button:
                text: 'Import ORR \nbackground'
                id: import_orr_backg
                on_press: root.import_orr_bckg()
            Button:
                text: 'Import EIS'
                id: import_eis
                on_press: root.import_eis()
            Button:
                text: 'Correct data'
                on_press: root.open_correction_popup()
            Button:
                text: 'Analyse Data'
                on_press: root.analyse_data()

            Button:
                text: 'Export Data'
                on_press: root.export_data()
        BoxLayout:
            size_hint: 0.1, 0.05
            pos_hint: {"top":0.195, "center_x": 0.35}
            Spinner:
                text: 'Plot Data'
                id: plot_spinner
                on_text:
                    root.plot_from_spinner(self.text)

        FloatLayout:
            orientation: 'vertical'
            size_hint: 0.04, 0.07
            pos_hint:{"top":0.97, "center_x":0.04}
            Button:
                text: 'Navigation'
                font_color: 0,0,0,0
                background_normal: ''
                on_press: app.open_navigation()
                size_hint: 1, 1
                pos_hint:{"top":1, "center_x":0.5}
            Image:
                source: 'navigation_button.png'
                y: self.parent.y
                x: self.parent.x
                size: 75, 75
                allow_stretch: True

        BoxLayout:
            orientation: 'vertical'
            id: plotter
            size_hint: 0.4, 0.65
            pos_hint: {"top": 0.85, "center_x": 0.35}
            canvas.before:
                Color:
                    rgba: .5, .5, .5, 1
                Line:
                    width: 1
                    rectangle: self.x, self.y, self.width, self.height
        BoxLayout:
            size_hint: 0.102, 0.05
            pos_hint: {"top": 0.195, "center_x": 0.5}
            Button:
                text: 'save as png'
                on_press: root.safe_plot_to_png()
        BoxLayout:
            size_hint: 0.102, 0.05
            pos_hint: {"top": 0.195, "center_x": 0.2}
            Button:
                text: 'clear plot'
                on_press: root.clear_plot()

        BoxLayout:
            orientation: 'horizontal'
            id: parameters
            size_hint: 0.26, 0.4
            pos_hint: {"top": 0.6, "center_x": 2.82}
            canvas.before:
                Color:
                    rgba: .5, .5, .5, 1
                Line:
                    width: 1
                    rectangle: self.x, self.y, self.width, self.height
            BoxLayout:
                orientation: 'vertical'
                id: cathodic
                Label:
                    color: 0,0,0,1
                    text: 'cathodic'
                    bold: True
            BoxLayout:
                orientation: 'vertical'
                id: anodic
                Label:
                    color: 0,0,0,1
                    text: 'anodic'
                    bold: True
            BoxLayout:
                orientation: 'vertical'
                id: parameter
                Label:
                    color: 0,0,0,1
                    text: 'Parameter'
                    bold: True
                Label:
                    color: 0,0,0,1
                    text: 'Halfwave potential [V]'
                Label:
                    color: 0,0,0,1
                    text: 'Onset Potential [V]'
                Label:
                    color: 0,0,0,1
                    text: 'Peroxide Yield [%]'
                Label:
                    color: 0,0,0,1
                    text: 'Electron transfer \nnumber'
                Label:
                    color: 0,0,0,1
                    text: 'Activity  [mA/cm2]'

        BoxLayout:
            orientation: 'vertical'
            id: messages
            size_hint: 0.2, 0.2
            pos_hint: {"top": 0.85, "center_x": 0.85}
            canvas.before:
                Color:
                    rgba: .5, .5, .5, 1
                Line:
                    width: 1
                    rectangle: self.x, self.y, self.width, self.height
            Label:
                text: 'Current Data Files'
                color: 0,0,0,1
                font_size: 18
                pos_hint:{"top" : 1, "center_x" : 0.5}
                size_hint: 1,0.1
                halign: "center"

<ScreenTwo>:
    FloatLayout:
        FloatLayout:
            orientation: 'vertical'
            size_hint: 0.04, 0.07
            pos_hint:{"top":0.97, "center_x":0.04}
            Button:
                text: 'Navigation'
                font_color: 0,0,0,0
                background_normal: ''
                on_press: app.open_navigation()
                size_hint: 1, 1
                pos_hint:{"top":1, "center_x":0.5}
            Image:
                source: 'navigation_button.png'
                y: self.parent.y
                x: self.parent.x
                size: 75, 75
                allow_stretch: True
        Label:
            text: 'CV analysis'
            font_size: 65
            color: 0,0,0,1
            italic: True
            size_hint: 0.2, 0.1
            pos_hint: {'center_x':0.8, 'top': 0.98}


<ScreenThree>:
    FloatLayout:
        FloatLayout:
            orientation: 'vertical'
            size_hint: 0.04, 0.07
            pos_hint:{"top":0.97, "center_x":0.04}
            Button:
                text: 'Navigation'
                font_color: 0,0,0,0
                background_normal: ''
                on_press: app.open_navigation()
                size_hint: 1, 1
                pos_hint:{"top":1, "center_x":0.5}
            Image:
                source: 'navigation_button.png'
                y: self.parent.y
                x: self.parent.x
                size: 75, 75
                allow_stretch: True
        Label:
            text: 'Capacitance analysis'
            font_size: 65
            color: 0,0,0,1
            italic: True
            size_hint: 0.2, 0.1
            pos_hint: {'center_x':0.8, 'top': 0.98}


<Navigation>: #popup class
    size_hint: 0.18, 0.5
    pos_hint: {"right": 0.188, "top": 0.972}
    title: 'Navigation'
    background: ''
    title_color:0,0,0,1
    title_size: 22

    BoxLayout:
        size_hint: 0.6, 0.9
        pos_hint: {"center_x": 0.5, "top": 0.95}
        spacing: 10
        orientation: 'vertical'
        Button:
            font_size: 20
            text: 'ORR analysis'
            on_press: root.dismiss()
            on_press: root.manager.current= 'screen1'
        Button:
            font_size: 20
            text: 'CV analysis'
            on_press: root.dismiss()
            on_press: root.manager.current= 'screen2'
        Button:
            font_size: 20
            text: 'Capacitance Analysis'
            on_press: root.dismiss()
            on_press: root.manager.current= 'screen3'
        Button:
            font_size: 20
            text: 'Placeholder'
        Button:
            font_size: 20
            text: 'Placeholder'



<RV>: #recycleview class
    viewclass: 'Label'
    RecycleBoxLayout:
        default_size: None, dp(56)
        orientation: 'vertical'
        default_size_hint: 1 , None
        size_hint_y: None
        height: self.minimum_height




<DataCorrection>: #popup class
    title: 'Data Correction'
    size_hint: 0.35, 0.3
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            id: electrode_corr
            orientation: 'horizontal'
            CheckBox:
                id: electrode
            Label:
                text: 'Electrode calibration correction'
            Label:
                text: 'available'
        BoxLayout:
            name: 'background_corr'
            id: background_corr
            orientation: 'horizontal'
            CheckBox:
                on_active: root.on_activation(self)
                id: bckg
            Label:
                text: 'Background correction'

        BoxLayout:
            name: 'eis_corr'
            id: eis_corr
            orientation: 'horizontal'
            CheckBox:
                id: eis
                on_active: root.on_activation(self)
            Label:
                text: 'Electrolyte resistance correction'
        BoxLayout:
            orientation: 'horizontal'
            Button:
                text: 'Correct ORR data'
                on_press:  root.on_corr_confirmation()

<Manager>:
    id: screen_manager

    transition: NoTransition()

    screen_one: screen_one
    screen_two: screen_two
    screen_three: screen_three

    ScreenOne:
        id: screen_one
        name: 'screen1'
        manager: screen_manager

    ScreenTwo:
        id: screen_two
        name: 'screen2'
        manager: screen_manager

    ScreenThree:
        id: screen_three
        name: 'screen3'
        manager: screen_manager